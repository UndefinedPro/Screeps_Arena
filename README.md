# Screeps:Arena

## 简介
记录关于游戏Screeps:Arena的整个游玩过程

## 代码结构
- 初始化
为整个系统进行初始化设置，只在第一次循环开始处执行一次
- 生产部分
指挥spawn进行生产，生产不同的兵种
- 执行部分
为各个creep和structure分配任务

## 版本说明
### 版本0.0.0

- 修改时间：2024.01.09
- 策略：
  1. 先爆三个矿工采矿
  2. 然后爆近战兵（[ATTACK,MOVE,MOVE,MOVE,MOVE]），近战兵以四个作为一组，到集结点进行集合，集合完毕后寻找最近的敌方creep进行攻击
  3. 等到地方所有creep死亡后，所有我方近战兵攻击地方spawn
- 需改进：
  1. 集结点集合功能有问题，不能等到小组内所有creep集合后再出发
  2. 小组成员阵亡判定部分代码太繁琐，需要简化
  2. 矿工专心采矿，没有躲避敌袭机制
  2. 攻击小队内部没有队形保持机制
  2. 可以尝试引入其他兵种



### 版本1.0.0

- 修改时间：2024.02.04
- 策略：
  1. 先爆三个矿工采矿
  2. 然后爆兵，4个近战兵（[ATTACK,MOVE,MOVE,ATTACK,MOVE,MOVE]）和1个治疗兵（[HEAL,MOVE,MOVE,MOVE,MOVE,MOVE]）为一组，到集结点进行集合，集合完毕后寻找最近的敌方creep进行攻击
  3. 等到地方所有creep死亡后，所有我方近战兵攻击地方spawn
- 上版本问题修改情况：
  1. 对代码架构进行了调整，整个代码分为三个层次：
     - 单元层次：定义单个creep的工作内容
     - 小队层次：每个小队由若干个分工不同的creep组成，定义单个小队的执行任务以及小队中creep如何互相协作
     - 调度层次：给每个小队分配任务，下达命令
  2. 修复了集结点集结功能的问题，目前每个小组只有在集结完成后才能执行任务
  3. 小队成员阵亡判定获得简化，目前可以实时获得小队战损状态
  4. 队形保持机制获得一定程度改善，治疗者能够全程跟队，但队形保持效果不好，仍需改进
  5. 为每个小队加入了一个治疗者
- 可以改进与优化：
  1. 队形保持问题仍需改善
  2. 矿工采矿没有躲避敌袭机制
  3. 加入远程攻击者
  4. 近程攻击者没有逃跑机制，经常战斗到最后一滴血，这样使得治疗者作用减小，战损很大
- 想法：
  1. 可以建立一个战损生产机制，根据前线的战损情况，优化后方生产节奏（目前没有具体思路）
  2. 开发更多战术，如：
     - 偷家战术：派出一个小分队，在大部队的掩护下，专门袭击地方基地
     - 断矿战术：优先攻击地方矿工，断掉地方经济来源
     - 双线作战：开发多条线路作战
- 备注：
  1. 游戏源码中的moveTo函数似乎有着寻路bug，友方单位堆积在一起会互相卡死



